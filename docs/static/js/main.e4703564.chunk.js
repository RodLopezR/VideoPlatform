(this.webpackJsonptestapp=this.webpackJsonptestapp||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=a(40),s=a(162),l={Home:"/",Detail:"/:id"},d=a(11),u=a(25),j=a(155),v=a(56),_=a.n(v),b=a(3),m=function(){return Object(b.jsx)("footer",{className:_.a.footer,style:{backgroundImage:"url(./footer.webp)"},children:Object(b.jsxs)(j.a,{container:!0,className:_.a.content,children:[Object(b.jsx)(j.a,{item:!0,xs:12,lg:1,children:"Nusflix.com"}),Object(b.jsxs)(j.a,{item:!0,xs:12,lg:11,children:[Object(b.jsx)("div",{children:"Proyecto desarrollado con ReactJS, SASS, TypeScript."}),Object(b.jsx)("div",{children:"Desarrollado por Rodrigo L\xf3pez"})]})]})})},g=a(81),h=a(163),x=a(79),f=a.n(x),p=a(159),O=a(78),w=a.n(O),N=function(e){var t=e.onChange,a=e.lastValue,r=Object(n.useState)(""),i=Object(u.a)(r,2),o=i[0],c=i[1];return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()&&o!==a&&t(o)},className:w.a.form,children:[Object(b.jsx)(h.a,{id:"input-search",autoFocus:!0,variant:"outlined",value:o,onChange:function(e){c(e.target.value)}}),Object(b.jsxs)(p.a,{id:"btnSearch",variant:"contained",color:"primary",type:"submit",children:[Object(b.jsx)(f.a,{})," Buscar"]})]})},S=a(44),M=a.n(S),H=function(e){return Object(b.jsxs)("div",{className:M.a.header,style:{backgroundImage:"url(".concat(l.Home,"background.png)")},children:[Object(b.jsx)("div",{className:M.a.shadow}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:M.a.title,children:"Nusflix"}),Object(b.jsx)("div",{className:M.a.subtitle,children:"El mejor cat\xe1logo de peliculas."})]}),Object(b.jsx)(N,Object(g.a)({},e))]})},P=a(27),k=a.n(P),C=a(43),E=a(161),y=a(57),F=a.n(y),D=function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"e359e1ad0420182dea68eadd2515248c",e.next=3,F.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("e359e1ad0420182dea68eadd2515248c","&query=").concat(t,"&page=").concat(a));case 3:if(200===(n=e.sent).status&&n&&n.data&&n.data.results){e.next=6;break}throw new Error("El formato de respuesta no es el esperado");case 6:return r=n.data.results.map((function(e){return{id:e.id,title:e.title,overview:e.overview,release_date:e.release_date,poster_path:e.poster_path,backdrop_path:e.backdrop_path,video:e.video,vote_average:e.vote_average,vote_count:e.vote_count,original_language:e.original_language}})),i={results:r,page:n.data.page,total_pages:n.data.total_pages,total_results:n.data.total_results},e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=a(4),L=a(164),A=a(160),R=a(80),T=a.n(R),B=a(52),J=a.n(B),V=function(e){var t,a=e.movie,n=e.className,r=void 0===n?"":n;return Object(b.jsxs)("div",{className:Object(I.a)(J.a.info,r),children:[a.release_date,Object(b.jsxs)("div",{className:J.a.votes,children:[Object(b.jsx)(T.a,{}),a.vote_average]}),Object(b.jsx)("div",{className:J.a.lang,children:Object(b.jsx)("strong",{children:null===(t=a.original_language)||void 0===t?void 0:t.toUpperCase()})})]})},z=a(28),Q=a.n(z),q=function(e){var t,a=e.movie,n=l.Detail.replace(":id",String(a.id));return Object(b.jsx)(j.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(b.jsx)(c.b,{to:n,style:{textDecoration:"none"},className:"link-item",children:Object(b.jsxs)(A.a,{className:Q.a.card,children:[Object(b.jsx)("img",{src:a.poster_path?"https://image.tmdb.org/t/p/w500".concat(a.poster_path):"/images.png",alt:a.title,className:Q.a.img,onError:console.log}),Object(b.jsx)("div",{className:Q.a.shadow}),Object(b.jsxs)("div",{className:Q.a.info_movie,children:[Object(b.jsx)("h3",{className:Q.a.title,children:a.title}),Object(b.jsx)(V,{movie:a}),Object(b.jsxs)("div",{className:Q.a.desc,children:[null===(t=a.overview)||void 0===t?void 0:t.substr(0,200),(a.overview||"").length>200?"...":""]})]}),Object(b.jsx)("div",{className:Q.a.shadowHover})]})})})},W=a(32),X=a.n(W),K=function(e){var t=e.paginationData,a=e.onChangePage,r=Object(n.useState)(!0),i=Object(u.a)(r,2),o=i[0],c=i[1],s=function(){var e=document.body.offsetHeight,t=window,a=t.scrollY,n=t.screen.height;c(e-(a+n)>-4)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[]),Object(b.jsxs)(j.a,{container:!0,className:X.a.container,children:[Object(b.jsxs)("div",{className:X.a.infoResult,children:["Se encontraron ",Object(b.jsx)("strong",{children:t.total_results})," ","resultados. P\xe1gina ",t.page]}),Object(b.jsx)(j.a,{container:!0,className:X.a.containerMovies,children:t.results.map((function(e,t){return Object(b.jsx)(q,{movie:e},e.id)}))}),t.total_pages>1?Object(b.jsx)("div",{id:"pagination-zone",className:Object(I.a)(X.a.pagination,o?X.a.fixed:""),children:Object(b.jsx)("div",{className:X.a.paginationContent,children:Object(b.jsx)(L.a,{count:t.total_pages,page:t.page,hidePrevButton:!0,hideNextButton:!0,onChange:function(e,t){return a(t)}})})}):null]})},Y=function(e){var t=e.querySearch,a=Object(n.useState)(1),r=Object(u.a)(a,2),i=r[0],o=r[1],c=Object(n.useState)({data:null,loading:!0,error:!1}),s=Object(u.a)(c,2),l=s[0],d=s[1];if(Object(n.useEffect)((function(){o(1)}),[t]),Object(n.useEffect)((function(){Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return");case 2:return d({data:null,loading:!0,error:!1}),e.prev=3,e.next=6,D(t,i);case 6:a=e.sent,setTimeout((function(){d({data:a,loading:!1,error:!1})}),500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),d({data:null,loading:!1,error:!0,errorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))()}),[i,t]),""===t.trim())return Object(b.jsx)("div",{children:"Hola, bienvenido"});return Object(b.jsx)(E.a,{children:l.error?Object(b.jsx)("div",{children:"Error"}):l.loading?Object(b.jsx)("div",{children:"Cargando"}):Object(b.jsx)(K,{paginationData:l.data,onChangePage:function(e){return o(e)}})})},G=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(H,{lastValue:a,onChange:r}),Object(b.jsx)(Y,{querySearch:a}),Object(b.jsx)(m,{})]})},U=function(){return Object(b.jsx)("div",{children:"Pagina detalle pelicula"})},Z=function(){return Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:l.Home,exact:!0,children:Object(b.jsx)(G,{})}),Object(b.jsx)(d.b,{path:l.Detail,exact:!0,children:Object(b.jsx)(U,{})}),Object(b.jsx)(d.a,{to:l.Home})]})},$=(a(120),function(){return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(s.a,{}),Object(b.jsx)(c.a,{basename:l.Home,children:Object(b.jsx)(Z,{})})]})}),ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,165)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)($,{})}),document.getElementById("root")),ee()},28:function(e,t,a){e.exports={card:"ItemMovie_card__DCgdQ",img:"ItemMovie_img__3jgWo",shadow:"ItemMovie_shadow__2MPVv",shadowHover:"ItemMovie_shadowHover__3mlw0",info_movie:"ItemMovie_info_movie__7HYzz",title:"ItemMovie_title__3KI8S",desc:"ItemMovie_desc___XFhP"}},32:function(e,t,a){e.exports={container:"MovieListPaginator_container__2sXLH",infoResult:"MovieListPaginator_infoResult__3V1Jv",containerMovies:"MovieListPaginator_containerMovies__C5fR8",pagination:"MovieListPaginator_pagination__2tkTx",fixed:"MovieListPaginator_fixed__1LTWE",paginationContent:"MovieListPaginator_paginationContent__32Nfr"}},44:function(e,t,a){e.exports={header:"Header_header__2cvNS",shadow:"Header_shadow__2cIvp",title:"Header_title__1Guff",subtitle:"Header_subtitle__1_wg1"}},52:function(e,t,a){e.exports={info:"DataMovie_info__QKDfE",votes:"DataMovie_votes__1HMle",lang:"DataMovie_lang__1HAEW"}},56:function(e,t,a){e.exports={footer:"Footer_footer__2J7Pl",content:"Footer_content__3xyQ1"}},78:function(e,t,a){e.exports={form:"SearchForm_form__RiZS5","formAnimation-enter":"SearchForm_formAnimation-enter__2EdIv","formAnimation-enter-active":"SearchForm_formAnimation-enter-active__cVTQi","formAnimation-exit":"SearchForm_formAnimation-exit__Xw5ku","formAnimation-exit-active":"SearchForm_formAnimation-exit-active__3EN0B"}}},[[121,1,2]]]);
//# sourceMappingURL=main.e4703564.chunk.js.map